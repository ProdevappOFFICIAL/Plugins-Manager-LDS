(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[528],{1821:(e,t,r)=>{Promise.resolve().then(r.bind(r,2489))},2489:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5155),s=r(2115);function d(){let[e,t]=(0,s.useState)([]),[r,d]=(0,s.useState)(""),[l,n]=(0,s.useState)(["","","",""]),[i,c]=(0,s.useState)(0),[o,x]=(0,s.useState)([]),[m,u]=(0,s.useState)(""),[g,b]=(0,s.useState)(!0),[h,y]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{try{b(!0),y("");let e=await fetch("http://localhost/api/subject");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();if(console.log("Fetched subjects:",t),Array.isArray(t))x(t);else throw Error("Invalid data format received")}catch(e){console.error("Error fetching subjects:",e),y(e instanceof Error?e.message:"Failed to fetch subjects"),x([{id:1,name:"MATHS"},{id:2,name:"ENG"},{id:3,name:"CHM"},{id:4,name:"PHY"},{id:5,name:"BIOLOGY"},{id:6,name:"AGR"},{id:7,name:"FMT"},{id:8,name:"BST"},{id:9,name:"ICT"},{id:10,name:"FRE"},{id:11,name:"IGB"},{id:12,name:"YOR"},{id:13,name:"CCA"}])}finally{b(!1)}})()},[]),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Quiz Builder"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create your own quiz by adding questions and options."})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-6 mb-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Subject (",o.length," available)"]}),h&&(0,a.jsxs)("div",{className:"mb-2 p-2 bg-yellow-100 dark:bg-yellow-900 border border-yellow-300 dark:border-yellow-700 rounded text-sm text-yellow-800 dark:text-yellow-200",children:["Network error: Using fallback data. ",h]}),(0,a.jsxs)("select",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:m,onChange:e=>u(e.target.value),required:!0,disabled:g,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:g?"Loading subjects...":"Select subject"}),o.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Debug: ",o.length," subjects loaded, Loading: ",g?"Yes":"No"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Question"}),(0,a.jsx)("input",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:e=>d(e.target.value),placeholder:"Enter your question",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Options"}),(0,a.jsx)("div",{className:"space-y-3",children:l.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:e=>{var r;return r=e.target.value,void n(e=>e.map((e,a)=>a===t?r:e))},placeholder:"Option ".concat(t+1),required:!0}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"correct",checked:i===t,onChange:()=>c(t),"aria-label":"Set as correct answer",className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Correct"})]})]},t))})]}),(0,a.jsx)("button",{type:"button",onClick:()=>{!(!r.trim()||l.some(e=>!e.trim()))&&m&&(t([...e,{text:r,options:[...l],correct:i,subject:m}]),d(""),n(["","","",""]),c(0),u(""))},className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-md transition-colors duration-200 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Question"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Questions (",e.length,")"]}),0===e.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No questions added yet."})}):(0,a.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:[t+1,". ",e.text]}),(0,a.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:["Subject: ",e.subject]}),(0,a.jsx)("ul",{className:"space-y-1",children:e.options.map((t,r)=>(0,a.jsxs)("li",{className:"text-sm flex items-center gap-2 ".concat(r===e.correct?"font-medium text-green-600 dark:text-green-400":"text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-xs font-medium",children:String.fromCharCode(65+r)}),t,r===e.correct&&(0,a.jsx)("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full",children:"Correct"})]},r))})]},t))})]})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=1821)),_N_E=e.O()}]);